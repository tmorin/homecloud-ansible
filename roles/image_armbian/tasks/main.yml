---

- name: 'check parameters'
  delegate_to: localhost
  assert:
    that:
      - image_armbian_archive_name | length > 0
      - image_armbian_image_name | length > 0
      - image_armbian_image_url | length > 0
      - homecloud_network_netmask | length > 0
      - homecloud_network_gateway | length > 0

- import_tasks: prepare-workdir.yml
- import_tasks: get-armbian-image.yml
- import_tasks: patch-host-image.yml
- import_tasks: release-host-image.yml
