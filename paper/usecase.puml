@startuml hc1_cluster_layout
!global $LIB_BASE_LOCATION="https://raw.githubusercontent.com/tmorin/plantuml-libs/master/dist"
!include $LIB_BASE_LOCATION/bootstrap.puml

include('homecloud/bootstrap')
include('homecloud/Element/Board')
include('homecloud/Element/Cloud')
include('homecloud/Group/GroupNetwork')
include('homecloud/Element/Router')

Cloud('internet', 'Internet')
GroupNetwork('home', 'home network') {
  Router('router', 'router')
  Board('n1', 'hc1-n1', 'ROCK64')
  Board('n2', 'hc1-n2', 'ROCK64')
  Board('n3', 'hc1-n3', 'ROCK64')
  Board('n4', 'hc1-n4', 'A64-LTS')
}
internet - router
router -- n1
router -- n2
router -- n3
router -- n4
@enduml

@startuml hc1_user_services
!global $LIB_BASE_LOCATION="https://raw.githubusercontent.com/tmorin/plantuml-libs/master/dist"
!include $LIB_BASE_LOCATION/bootstrap.puml

include('homecloud/bootstrap')
include('homecloud/Brand/Nextcloud')
include('homecloud/Brand/Syncthing')
include('material-4.0/Image/AutoStories')
include('homecloud/Element/Cloud')
include('homecloud/Group/GroupNetwork')
include('homecloud/Element/Router')

Cloud('internet', 'Internet')
GroupNetwork('home', 'home network') {
  Router('router', 'router')
  Syncthing('syncthing', 'Syncthing')
  Nextcloud('nextcloud', 'Nextcloud')
  AutoStories('calibreweb', 'Calibreweb')
}
internet - router
router -- syncthing
router -- nextcloud
router -- calibreweb
@enduml

@startuml overview_building_blocks
!global $LIB_BASE_LOCATION="https://raw.githubusercontent.com/tmorin/plantuml-libs/master/dist"
!include $LIB_BASE_LOCATION/bootstrap.puml

left to right direction

include('homecloud/bootstrap')
include('homecloud/Brand/Traefik')
include('homecloud/Brand/Ceph')
include('homecloud/Brand/Docker')
include('homecloud/Brand/Influxdata')
include('homecloud/Brand/Portainer')
include('homecloud/Element/Cloud')
include('homecloud/Element/Router')
include('homecloud/Group/GroupNetwork')
include('homecloud/Group/GroupSwarm')

Cloud('internet', 'internet')
GroupNetwork('home', 'home') {
  Router('router', 'router')
  Ceph('ceph', 'Ceph')
  GroupSwarm('swarm', 'swarm') {
    Traefik('traefik', 'Traefik')
    Influxdata('influxdata', 'Influxdata')
  }
}
internet -- router
router -- swarm
swarm -- ceph
@enduml

@startuml user_services_and_building_blocks
skinparam monochrome true
skinparam DefaultTextAlignment center
skinparam WrapWidth 125
skinparam MaxMessageSize 125
package homecloud {
  file user_services [
    <b>User Services
    --
    Technologies solving user concerns.
  ]
  file building_blocks [
    <b>Building Blocks
    --
    Technologies solving technical concerns.
  ]
}
user_services <- building_blocks : support the execution of
@enduml